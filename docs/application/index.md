# Application Module

Консольное приложение для трансляции кода между языками программирования через `MeaningTree`.

## Зависимости

- **JCommander** (1.82) - парсинг аргументов командной строки
- **Gson** - сериализация в JSON
- **Apache Jena** (5.4.0) - сериализация в RDF
- **Graphviz Java** (0.18.1) - генерация графов

## Команды

### `translate`
Основная команда для трансляции кода.

**Синтаксис:**
```bash
java -jar application.jar translate --from <язык> [--to <язык>] [--serialize <формат>] <входной_файл> [выходной_файл]
```

**Параметры:**
- `--from` - исходный язык (обязательный)
- `--to` - целевой язык (обязательный, если не указан `--serialize`)
- `--serialize` - формат сериализации: `json` или `rdf` (обязательный, если не указан `--to`)
- `<входной_файл>` - путь к файлу или `-` для stdin
- `[выходной_файл]` - путь к выходному файлу или `-` для stdout (по умолчанию)

**Важно:** Обязательно должен быть указан либо `--to`, либо `--serialize`.

**Поддерживаемые языки:**
- `java`
- `python` 
- `c++`

**Примеры:**

Трансляция Java в Python:
```bash
java -jar application.jar translate --from java --to python input.java output.py
```

Сериализация в JSON:
```bash
java -jar application.jar translate --from java --serialize json input.java tree.json
```

Чтение из stdin, вывод в stdout:
```bash
cat input.java | java -jar application.jar translate --from java --to python -
```

### `list-langs`
Выводит список поддерживаемых языков.

**Синтаксис:**
```bash
java -jar application.jar list-langs
```

## Форматы сериализации

* `JSON`
* `RDF`


## Архитектура

```
Main.java
├── TranslateCommand - обработка команды translate
├── ListLangsCommand - обработка команды list-langs
└── SupportedLanguage - реестр языков и трансляторов
```

## Процесс трансляции

1. **Парсинг аргументов** - `JCommander` обрабатывает параметры командной строки
2. **Валидация** - проверка корректности параметров
3. **Чтение исходного кода** - из файла или stdin
4. **Создание транслятора** - инстанцирование класса для исходного языка
5. **Парсинг в MeaningTree** - преобразование кода в промежуточное представление
6. **Сериализация или трансляция**:
   - При `--serialize`: экспорт `MeaningTree` в указанный формат
   - При `--to`: создание транслятора целевого языка и генерация кода
7. **Вывод результата** - в файл или stdout

## Обработка ошибок

- Неподдерживаемый язык → вывод списка доступных языков
- Отсутствие `--to` и `--serialize` → сообщение об ошибке
- Ошибки чтения/записи файлов → сообщение с описанием проблемы
- Ошибки парсинга → исключения от языковых модулей
